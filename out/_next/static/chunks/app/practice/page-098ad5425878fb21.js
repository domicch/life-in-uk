(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{5783:function(e,r,s){Promise.resolve().then(s.bind(s,9309))},9309:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return c}});var t=s(7437),a=s(2265),n=s(4033),l=s(1812),i=s.n(l);function c(){let e=(0,n.useRouter)(),[r,s]=(0,a.useState)([]),[l,c]=(0,a.useState)(0),[d,o]=(0,a.useState)({}),[u,m]=(0,a.useState)({}),[h,x]=(0,a.useState)(new Set),[g,b]=(0,a.useState)(!1),[p,w]=(0,a.useState)(!0),[v,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let[e,r]=await Promise.all([fetch("/questions.csv"),fetch("/answers.csv")]);if(!e.ok||!r.ok)throw Error("Failed to load test data");let t=await e.text(),a=await r.text(),n=i().parse(t,{header:!0,skipEmptyLines:!0}).data,l=i().parse(a,{header:!0,skipEmptyLines:!0}).data,c=new Map;n.forEach(e=>{let r="".concat(e.examNumber,"-").concat(e.questionNumber);c.set(r,{...e,answers:[],isMultipleChoice:!1})}),l.forEach(e=>{let r="".concat(e.examNumber,"-").concat(e.questionNumber),s=c.get(r);s&&s.answers.push(e)}),c.forEach(e=>{let r=e.answers.filter(e=>"yes"===e.isCorrect);e.isMultipleChoice=r.length>1});let d=Array.from(c.values());d.sort(()=>Math.random()-.5),d.forEach(e=>{e.answers.sort(()=>Math.random()-.5)}),s(d),w(!1)}catch(e){f(e instanceof Error?e.message:"Failed to load test data"),w(!1)}})()},[]);let N=e=>{g||(r[l].isMultipleChoice?o(r=>{let s=r[l]||[];return s.includes(e)?{...r,[l]:s.filter(r=>r!==e)}:{...r,[l]:[...s,e]}}):o(r=>({...r,[l]:[e]})))},j=e=>{c(e),b(!1)},y=e=>{if(e===l)return"current";let r=u[e];return"correct"===r?"correct":"incorrect"===r?"incorrect":h.has(e)?"review":d[e]&&d[e].length>0?"answered":"unanswered"};if(p)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Loading practice questions..."})]})});if(v)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-xl text-red-600 mb-4",children:["Error: ",v]}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700",children:"Retry"})]})});let C=r[l],k=g?(()=>{let e=r[l],s=d[l]||[],t=e.answers.filter(e=>"yes"===e.isCorrect),a=t.map(e=>e.answerNumber);return{isCorrect:s.length===a.length&&s.every(e=>a.includes(e))&&a.every(e=>s.includes(e)),correctAnswers:t,selectedAnswerNumbers:s}})():null,M=d[l]||[],R=h.has(l),q=!g&&"correct"!==u[l]&&"incorrect"!==u[l],S=l===r.length-1,E=r.filter((e,r)=>"correct"===u[r]||"incorrect"===u[r]||d[r]&&d[r].length>0).length;return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Practice Mode"}),(0,t.jsxs)("div",{className:"text-lg font-medium text-gray-600",children:[E," of ",r.length," questions answered"]})]}),(0,t.jsx)("div",{className:"mb-4",children:Array.from({length:Math.ceil(r.length/20)},(e,s)=>(0,t.jsx)("div",{className:"grid grid-cols-20 gap-1 mb-2",children:r.slice(20*s,(s+1)*20).map((e,r)=>{let a=20*s+r;return(0,t.jsx)("button",{onClick:()=>j(a),className:"w-8 h-8 text-xs rounded border-2 font-medium transition-all duration-200 ".concat("current"===y(a)?"border-primary-600 bg-primary-600 text-white":"correct"===y(a)?"border-success-500 bg-success-500 text-white":"incorrect"===y(a)?"border-danger-500 bg-danger-500 text-white":"review"===y(a)?"border-warning-500 bg-warning-500 text-white":"border-gray-300 bg-white text-gray-700 hover:border-primary-500 hover:text-primary-600"),children:a+1},a)})},s))}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-success-500 rounded"}),(0,t.jsx)("span",{children:"Correct"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-warning-500 rounded"}),(0,t.jsx)("span",{children:"Review"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-danger-500 rounded"}),(0,t.jsx)("span",{children:"Incorrect"})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsxs)("span",{className:"font-medium",children:["Practice Mode: No time limit • All ",r.length," questions available • Instant feedback"]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{className:"progress-indicator",children:["Question ",l+1," of ",r.length,R&&(0,t.jsx)("span",{className:"ml-2 px-2 py-1 bg-warning-100 text-warning-800 text-sm rounded",children:"\uD83D\uDCCB Marked for Review"})]}),(0,t.jsx)("button",{className:"bg-primary-600 text-white p-3 rounded-full hover:bg-primary-700",children:(0,t.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,t.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.776l-4.5-3.5a1 1 0 010-1.552l4.5-3.5z",clipRule:"evenodd"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M14.383 3.076A1 1 0 0115 4v12a1 1 0 01-1.617.776l-4.5-3.5a1 1 0 010-1.552l4.5-3.5z",clipRule:"evenodd"})]})})]}),(0,t.jsx)("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:null==C?void 0:C.question}),(null==C?void 0:C.isMultipleChoice)&&(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium mb-4",children:"\uD83D\uDCCB Select TWO answers for this question"}),(0,t.jsx)("div",{className:"space-y-3 mb-8",children:null==C?void 0:C.answers.map(e=>{let r=M.includes(e.answerNumber),s="yes"===e.isCorrect,a="answer-option";return g?s?a+=" border-success-500 bg-success-50":r&&(a+=" border-danger-500 bg-danger-50"):r&&(a+=" selected"),(0,t.jsx)("button",{onClick:()=>N(e.answerNumber),className:a,disabled:g,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded border-2 ".concat(g?s?"border-success-500 bg-success-500":r?"border-danger-500 bg-danger-500":"border-gray-300":r?"border-primary-500 bg-primary-500":"border-gray-300"),children:(r||g&&s)&&(0,t.jsx)("svg",{className:"w-3 h-3 text-white m-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("span",{className:g&&s?"font-semibold":"",children:e.answer})]})},e.answerNumber)})}),g&&k&&(0,t.jsxs)("div",{className:"p-4 rounded-lg mb-6 ".concat(k.isCorrect?"bg-success-50 border border-success-200":"bg-danger-50 border border-danger-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[k.isCorrect?(0,t.jsx)("svg",{className:"w-6 h-6 text-success-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,t.jsx)("svg",{className:"w-6 h-6 text-danger-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"font-semibold ".concat(k.isCorrect?"text-success-800":"text-danger-800"),children:k.isCorrect?"Correct!":"Incorrect"})]}),!k.isCorrect&&(0,t.jsxs)("div",{className:"text-danger-700 mb-2",children:[(0,t.jsxs)("p",{className:"font-medium",children:["The correct answer",k.correctAnswers.length>1?"s are":" is",":"]}),(0,t.jsx)("ul",{className:"list-disc list-inside ml-4",children:k.correctAnswers.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("strong",{children:e.answer})},e.answerNumber))})]}),C.reference&&(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Explanation:"})," ",C.reference]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>{l>0&&(c(l-1),b(!1))},disabled:0===l,className:"bg-gray-300 text-gray-700 px-8 py-3 rounded-lg font-medium hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{!g&&"correct"!==u[l]&&"incorrect"!==u[l]&&(x(e=>new Set(e).add(l)),l<r.length-1&&(c(l+1),b(!1)))},disabled:!q,className:"px-8 py-3 rounded-lg font-medium transition-colors ".concat(q?"bg-warning-500 text-white hover:bg-warning-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:q?"Mark this question for review":"Cannot mark reviewed or checked questions",children:R?"Reviewed":"Review"}),E>0&&(0,t.jsx)("button",{onClick:()=>{let s=r.map((e,r)=>{let s=d[r]||[],t=e.answers.filter(e=>"yes"===e.isCorrect),a=t.map(e=>e.answerNumber),n=s.length>0||"correct"===u[r]||"incorrect"===u[r],l=n&&s.length===a.length&&s.every(e=>a.includes(e))&&a.every(e=>s.includes(e)),i=s.map(r=>{var s;return(null===(s=e.answers.find(e=>e.answerNumber===r))||void 0===s?void 0:s.answer)||""}).filter(e=>e),c=t.map(e=>e.answer);return{questionIndex:r,examNumber:e.examNumber,questionNumber:e.questionNumber,question:e.question,reference:e.reference,selectedAnswers:s,correctAnswers:a,isCorrect:l,wasAnswered:n,userAnswerTexts:i,correctAnswerTexts:c}}).filter(e=>e.wasAnswered),t=Date.now().toString();sessionStorage.setItem("practice-results-".concat(t),JSON.stringify(s)),e.push("/results?id=".concat(t,"&mode=practice"))},className:"bg-success-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-success-700",children:"Finish Practice"})]}),g?(0,t.jsx)("button",{onClick:()=>{l<r.length-1&&(c(l+1),b(!1))},disabled:S,className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Last Question":"Next Question"}):(0,t.jsx)("button",{onClick:()=>{let e=d[l]||[];if(0===e.length){alert("Please select an answer before checking.");return}let s=r[l].answers.filter(e=>"yes"===e.isCorrect).map(e=>e.answerNumber),t=e.length===s.length&&e.every(e=>s.includes(e))&&s.every(r=>e.includes(r));m(e=>({...e,[l]:t?"correct":"incorrect"})),x(e=>{let r=new Set(e);return r.delete(l),r}),b(!0)},className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-primary-700",children:"Check"})]})]})]})})}}},function(e){e.O(0,[325,971,938,744],function(){return e(e.s=5783)}),_N_E=e.O()}]);