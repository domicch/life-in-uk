(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{5783:function(e,r,s){Promise.resolve().then(s.bind(s,9309))},9309:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return d}});var t=s(7437),n=s(2265),a=s(4033),i=s(1812),l=s.n(i),c=s(5591);function d(){let e=(0,a.useRouter)(),[r,s]=(0,n.useState)([]),[i,d]=(0,n.useState)(0),[o,u]=(0,n.useState)({}),[m,h]=(0,n.useState)({}),[x,g]=(0,n.useState)(new Set),[b,p]=(0,n.useState)(!1),[w,f]=(0,n.useState)(!0),[v,N]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let[e,r]=await Promise.all([fetch((0,c.V)("questions.csv")),fetch((0,c.V)("answers.csv"))]);if(!e.ok||!r.ok)throw Error("Failed to load test data");let t=await e.text(),n=await r.text(),a=l().parse(t,{header:!0,skipEmptyLines:!0}).data,i=l().parse(n,{header:!0,skipEmptyLines:!0}).data,d=new Map;a.forEach(e=>{let r="".concat(e.examNumber,"-").concat(e.questionNumber);d.set(r,{...e,answers:[],isMultipleChoice:!1})}),i.forEach(e=>{let r="".concat(e.examNumber,"-").concat(e.questionNumber),s=d.get(r);s&&s.answers.push(e)}),d.forEach(e=>{let r=e.answers.filter(e=>"yes"===e.isCorrect);e.isMultipleChoice=r.length>1});let o=Array.from(d.values());o.sort(()=>Math.random()-.5),o.forEach(e=>{e.answers.sort(()=>Math.random()-.5)}),s(o),f(!1)}catch(e){N(e instanceof Error?e.message:"Failed to load test data"),f(!1)}})()},[]);let j=e=>{b||(r[i].isMultipleChoice?u(r=>{let s=r[i]||[];return s.includes(e)?{...r,[i]:s.filter(r=>r!==e)}:{...r,[i]:[...s,e]}}):u(r=>({...r,[i]:[e]})))},y=e=>{d(e),p(!1)},C=e=>{if(e===i)return"current";let r=m[e];return"correct"===r?"correct":"incorrect"===r?"incorrect":x.has(e)?"review":o[e]&&o[e].length>0?"answered":"unanswered"};if(w)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Loading practice questions..."})]})});if(v)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-xl text-red-600 mb-4",children:["Error: ",v]}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700",children:"Retry"})]})});let k=r[i],M=b?(()=>{let e=r[i],s=o[i]||[],t=e.answers.filter(e=>"yes"===e.isCorrect),n=t.map(e=>e.answerNumber);return{isCorrect:s.length===n.length&&s.every(e=>n.includes(e))&&n.every(e=>s.includes(e)),correctAnswers:t,selectedAnswerNumbers:s}})():null,R=o[i]||[],q=x.has(i),S=!b&&"correct"!==m[i]&&"incorrect"!==m[i],E=i===r.length-1,z=r.filter((e,r)=>"correct"===m[r]||"incorrect"===m[r]||o[r]&&o[r].length>0).length;return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Practice Mode"}),(0,t.jsxs)("div",{className:"text-lg font-medium text-gray-600",children:[z," of ",r.length," questions answered"]})]}),(0,t.jsx)("div",{className:"mb-4",children:Array.from({length:Math.ceil(r.length/20)},(e,s)=>(0,t.jsx)("div",{className:"grid grid-cols-20 gap-1 mb-2",children:r.slice(20*s,(s+1)*20).map((e,r)=>{let n=20*s+r;return(0,t.jsx)("button",{onClick:()=>y(n),className:"w-8 h-8 text-xs rounded border-2 font-medium transition-all duration-200 ".concat("current"===C(n)?"border-primary-600 bg-primary-600 text-white":"correct"===C(n)?"border-success-500 bg-success-500 text-white":"incorrect"===C(n)?"border-danger-500 bg-danger-500 text-white":"review"===C(n)?"border-warning-500 bg-warning-500 text-white":"border-gray-300 bg-white text-gray-700 hover:border-primary-500 hover:text-primary-600"),children:n+1},n)})},s))}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-success-500 rounded"}),(0,t.jsx)("span",{children:"Correct"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-warning-500 rounded"}),(0,t.jsx)("span",{children:"Review"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-danger-500 rounded"}),(0,t.jsx)("span",{children:"Incorrect"})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsxs)("span",{className:"font-medium",children:["Practice Mode: No time limit • All ",r.length," questions available • Instant feedback"]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{className:"progress-indicator",children:["Question ",i+1," of ",r.length,q&&(0,t.jsx)("span",{className:"ml-2 px-2 py-1 bg-warning-100 text-warning-800 text-sm rounded",children:"\uD83D\uDCCB Marked for Review"})]}),(0,t.jsx)("button",{className:"bg-primary-600 text-white p-3 rounded-full hover:bg-primary-700",children:(0,t.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,t.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.776l-4.5-3.5a1 1 0 010-1.552l4.5-3.5z",clipRule:"evenodd"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M14.383 3.076A1 1 0 0115 4v12a1 1 0 01-1.617.776l-4.5-3.5a1 1 0 010-1.552l4.5-3.5z",clipRule:"evenodd"})]})})]}),(0,t.jsx)("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:null==k?void 0:k.question}),(null==k?void 0:k.isMultipleChoice)&&(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium mb-4",children:"\uD83D\uDCCB Select TWO answers for this question"}),(0,t.jsx)("div",{className:"space-y-3 mb-8",children:null==k?void 0:k.answers.map(e=>{let r=R.includes(e.answerNumber),s="yes"===e.isCorrect,n="answer-option";return b?s?n+=" border-success-500 bg-success-50":r&&(n+=" border-danger-500 bg-danger-50"):r&&(n+=" selected"),(0,t.jsx)("button",{onClick:()=>j(e.answerNumber),className:n,disabled:b,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded border-2 ".concat(b?s?"border-success-500 bg-success-500":r?"border-danger-500 bg-danger-500":"border-gray-300":r?"border-primary-500 bg-primary-500":"border-gray-300"),children:(r||b&&s)&&(0,t.jsx)("svg",{className:"w-3 h-3 text-white m-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("span",{className:b&&s?"font-semibold":"",children:e.answer})]})},e.answerNumber)})}),b&&M&&(0,t.jsxs)("div",{className:"p-4 rounded-lg mb-6 ".concat(M.isCorrect?"bg-success-50 border border-success-200":"bg-danger-50 border border-danger-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[M.isCorrect?(0,t.jsx)("svg",{className:"w-6 h-6 text-success-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,t.jsx)("svg",{className:"w-6 h-6 text-danger-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"font-semibold ".concat(M.isCorrect?"text-success-800":"text-danger-800"),children:M.isCorrect?"Correct!":"Incorrect"})]}),!M.isCorrect&&(0,t.jsxs)("div",{className:"text-danger-700 mb-2",children:[(0,t.jsxs)("p",{className:"font-medium",children:["The correct answer",M.correctAnswers.length>1?"s are":" is",":"]}),(0,t.jsx)("ul",{className:"list-disc list-inside ml-4",children:M.correctAnswers.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("strong",{children:e.answer})},e.answerNumber))})]}),k.reference&&(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Explanation:"})," ",k.reference]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>{i>0&&(d(i-1),p(!1))},disabled:0===i,className:"bg-gray-300 text-gray-700 px-8 py-3 rounded-lg font-medium hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{!b&&"correct"!==m[i]&&"incorrect"!==m[i]&&(g(e=>new Set(e).add(i)),i<r.length-1&&(d(i+1),p(!1)))},disabled:!S,className:"px-8 py-3 rounded-lg font-medium transition-colors ".concat(S?"bg-warning-500 text-white hover:bg-warning-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:S?"Mark this question for review":"Cannot mark reviewed or checked questions",children:q?"Reviewed":"Review"}),z>0&&(0,t.jsx)("button",{onClick:()=>{let s=r.map((e,r)=>{let s=o[r]||[],t=e.answers.filter(e=>"yes"===e.isCorrect),n=t.map(e=>e.answerNumber),a=s.length>0||"correct"===m[r]||"incorrect"===m[r],i=a&&s.length===n.length&&s.every(e=>n.includes(e))&&n.every(e=>s.includes(e)),l=s.map(r=>{var s;return(null===(s=e.answers.find(e=>e.answerNumber===r))||void 0===s?void 0:s.answer)||""}).filter(e=>e),c=t.map(e=>e.answer);return{questionIndex:r,examNumber:e.examNumber,questionNumber:e.questionNumber,question:e.question,reference:e.reference,selectedAnswers:s,correctAnswers:n,isCorrect:i,wasAnswered:a,userAnswerTexts:l,correctAnswerTexts:c}}).filter(e=>e.wasAnswered),t=Date.now().toString();sessionStorage.setItem("practice-results-".concat(t),JSON.stringify(s)),e.push("/results?id=".concat(t,"&mode=practice"))},className:"bg-success-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-success-700",children:"Finish Practice"})]}),b?(0,t.jsx)("button",{onClick:()=>{i<r.length-1&&(d(i+1),p(!1))},disabled:E,className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Last Question":"Next Question"}):(0,t.jsx)("button",{onClick:()=>{let e=o[i]||[];if(0===e.length){alert("Please select an answer before checking.");return}let s=r[i].answers.filter(e=>"yes"===e.isCorrect).map(e=>e.answerNumber),t=e.length===s.length&&e.every(e=>s.includes(e))&&s.every(r=>e.includes(r));h(e=>({...e,[i]:t?"correct":"incorrect"})),g(e=>{let r=new Set(e);return r.delete(i),r}),p(!0)},className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-primary-700",children:"Check"})]})]})]})})}},5591:function(e,r,s){"use strict";function t(e){let r=e.startsWith("/")?e.slice(1):e;return"/life-in-uk/".concat(r)}s.d(r,{V:function(){return t}})}},function(e){e.O(0,[325,971,938,744],function(){return e(e.s=5783)}),_N_E=e.O()}]);