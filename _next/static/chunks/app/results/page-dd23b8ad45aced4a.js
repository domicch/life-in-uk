(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{9648:function(e,s,t){Promise.resolve().then(t.bind(t,3919))},3919:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var r=t(7437),n=t(2265),a=t(4033),c=t(1396),i=t.n(c);function o(){let e=(0,a.useSearchParams)(),[s,t]=(0,n.useState)([]),[c,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let s=e.get("data"),r=e.get("id"),n=e.get("mode");if(s)try{let e=JSON.parse(decodeURIComponent(s));t(e)}catch(e){console.error("Error parsing results data from URL:",e)}else if(r)try{let e;e="individual"===n?"individual-results-".concat(r):"practice"===n?"practice-results-".concat(r):"test-results-".concat(r);let s=sessionStorage.getItem(e);if(s){let r=JSON.parse(s);t(r),sessionStorage.removeItem(e)}else console.error("No results data found in sessionStorage")}catch(e){console.error("Error parsing results data from sessionStorage:",e)}o(!1)},[e]);let l=e.get("mode"),d=e.get("examNumber"),x=e.get("originalMode"),m=s.filter(e=>e.isCorrect).length,u=s.length-m,h=s.length>0?Math.round(m/s.length*100):0,g=h>=75,p=s.filter(e=>!e.isCorrect);return c?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"individual"===l?"Exam ".concat(d," Results ").concat("practice"===x?"(Practice)":"(Test)"):"practice"===l?"Practice Results":"Test Results"}),(0,r.jsxs)("div",{className:"text-6xl font-bold mb-4 ".concat(g?"text-success-600":"text-danger-600"),children:[h,"%"]}),(0,r.jsx)("div",{className:"text-2xl font-semibold ".concat(g?"text-success-800":"text-danger-800"),children:g?"\uD83C\uDF89 PASSED!":"❌ FAILED"}),g?(0,r.jsx)("p",{className:"text-lg text-success-700 mt-2",children:"Congratulations! You passed the Life in the UK test."}):(0,r.jsx)("p",{className:"text-lg text-danger-700 mt-2",children:"You need 75% (18 out of 24) to pass. Keep studying and try again!"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-success-600 mb-2",children:m}),(0,r.jsx)("div",{className:"text-gray-600",children:"Correct Answers"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-danger-600 mb-2",children:u}),(0,r.jsx)("div",{className:"text-gray-600",children:"Incorrect Answers"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:s.length}),(0,r.jsx)("div",{className:"text-gray-600",children:"Total Questions"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Actions"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[u>0&&(0,r.jsxs)("button",{onClick:()=>{let e=[["Question Number","Question","Your Answer(s)","Correct Answer(s)","Explanation"],...p.map(e=>["Question ".concat(e.questionIndex+1),'"'.concat(e.question.replace(/"/g,'""'),'"'),'"'.concat(e.userAnswerTexts.join("; ").replace(/"/g,'""'),'"'),'"'.concat(e.correctAnswerTexts.join("; ").replace(/"/g,'""'),'"'),'"'.concat(e.reference.replace(/"/g,'""'),'"')])].map(e=>e.join(",")).join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");if(void 0!==t.download){let e=URL.createObjectURL(s);t.setAttribute("href",e),t.setAttribute("download","life-in-uk-incorrect-answers-".concat(new Date().toISOString().split("T")[0],".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},className:"bg-warning-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-warning-700 transition-colors flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Incorrect Answers (CSV)"]}),(0,r.jsx)(i(),{href:"individual"===l?"/individual":"/test",className:"bg-primary-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-700 transition-colors",children:"individual"===l?"Take Another Individual Test":"Take Another Test"}),(0,r.jsx)(i(),{href:"/",className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Back to Home"})]})]}),u>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:["Questions You Got Wrong (",u,")"]}),(0,r.jsx)("div",{className:"space-y-6",children:p.map((e,s)=>(0,r.jsxs)("div",{className:"border-l-4 border-danger-500 pl-4 py-2",children:[(0,r.jsxs)("div",{className:"font-medium text-gray-900 mb-2",children:["Question ",e.questionIndex+1,": ",e.question]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:"text-danger-600 font-medium",children:"Your answer: "}),(0,r.jsx)("span",{className:"text-danger-700",children:e.userAnswerTexts.join(", ")})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:"text-success-600 font-medium",children:"Correct answer: "}),(0,r.jsx)("span",{className:"text-success-700",children:e.correctAnswerTexts.join(", ")})]}),e.reference&&(0,r.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,r.jsx)("strong",{children:"Explanation:"})," ",e.reference]})]},s))})]}),0===u&&(0,r.jsxs)("div",{className:"bg-success-50 border border-success-200 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-success-700 text-xl font-medium mb-2",children:"\uD83C\uDF1F Perfect Score! \uD83C\uDF1F"}),(0,r.jsx)("p",{className:"text-success-600",children:"Excellent work! You answered all questions correctly."})]})]})})})}},622:function(e,s,t){"use strict";var r=t(2265),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,t){var r,o={},l=null,d=null;for(r in void 0!==t&&(l=""+t),void 0!==s.key&&(l=""+s.key),void 0!==s.ref&&(d=s.ref),s)a.call(s,r)&&!i.hasOwnProperty(r)&&(o[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:n,type:e,key:l,ref:d,props:o,_owner:c.current}}s.jsx=o,s.jsxs=o},7437:function(e,s,t){"use strict";e.exports=t(622)},1396:function(e,s,t){e.exports=t(5250)},4033:function(e,s,t){e.exports=t(5313)}},function(e){e.O(0,[250,971,938,744],function(){return e(e.s=9648)}),_N_E=e.O()}]);